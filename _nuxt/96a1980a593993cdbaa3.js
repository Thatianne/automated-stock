(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{245:function(t,e,o){var content=o(249);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(45).default)("49a176ee",content,!0,{sourceMap:!1})},248:function(t,e,o){"use strict";var r=o(245),n=o.n(r);e.default=n.a},249:function(t,e,o){(t.exports=o(44)(!1)).push([t.i,"main{margin:20px 40px}",""])},256:function(t,e,o){"use strict";o.r(e);o(6),o(4),o(3),o(2),o(5),o(15);var r=o(0);function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,o)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(source,!0).forEach(function(e){Object(r.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var d={data:function(){return{environments:[],tableProducts:[],product:{name:"",price:"",counter:1,validity:"",environment:"",description:""},productMove:{},environment:{name:""},environmentMove:"",environmentsOptions:[],fields:["Nome","Preço","Quantidade","Validade","Ambiente","Remover","Diminuir","Mover"]}},mounted:function(){var t=this;this.$fireStore.collection("environments").get().then(function(e){e.docs.forEach(function(e){var o=e.data();t.environments.push(c({},o)),t.environmentsOptions.push({text:o.name,key:o.name})}),t.product.environment=t.environmentsOptions.length>0?t.environmentsOptions[0].key:""}),this.$fireStore.collection("products").get().then(function(e){e.docs.forEach(function(e){var o=e.data();t.tableProducts.push({Nome:o.name,"Preço":o.price,Validade:o.validity,"Descrição":o.description,Quantidade:o.counter,Ambiente:o.environment,Uid:e.id})})})},methods:{addProduct:function(){var t=this.$fireStore.collection("products").doc();t.set(c({},this.product)),this.tableProducts.push({Uid:t.id,Nome:this.product.name,"Preço":this.product.price,Validade:this.product.validity,"Descrição":this.product.description,Quantidade:this.product.counter,Ambiente:this.product.environment}),this.clearProductForm()},addEnvironment:function(){this.$fireStore.collection("environments").doc().set(c({},this.environment)),this.environmentsOptions.push({text:this.environment.name,key:this.environment.name})},removeProduct:function(t){this.$fireStore.collection("products").doc(t.Uid).delete();var e=this.tableProducts.indexOf(t);-1!=e&&this.tableProducts.splice(e,1)},subtractProduct:function(t){var e=parseInt(t.Quantidade);e>1?(t.Quantidade=--e,this.$fireStore.collection("products").doc(t.Uid).set({name:t.Nome,price:t["Preço"],environment:t.Ambiente,description:t["Descrição"],counter:e})):this.removeProduct(t)},moveProduct:function(){var t=this.productMove,e=this.$fireStore.collection("products").doc(t.Uid);t.Ambiente=this.environmentMove,e.set({name:t.Nome,price:t["Preço"],environment:this.environmentMove,description:t["Descrição"],counter:t["Preço"]})},clearProductForm:function(){this.product={name:"",price:"",counter:1,validity:"",environment:this.environmentsOptions.length>0?this.environmentsOptions[0].key:"",description:""}}}},l=o(248),m=o(43);var component=Object(m.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",{staticClass:"d-flex flex-column align-items-start"},[o("div",{staticClass:"d-flex flex-row justify-content-between",staticStyle:{"margin-bottom":"30px",width:"100%"}},[o("h2",[t._v("Produtos")]),t._v(" "),o("div",[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-product",modifiers:{"add-product":!0}}],staticStyle:{"margin-left":"12px"},attrs:{variant:"warning"}},[t._v("\n\t\t\t\t\tAdicionar produto\n\t\t\t\t")]),t._v(" "),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-environment",modifiers:{"add-environment":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticStyle:{"margin-left":"12px"},attrs:{variant:"warning",title:"Adicionar ambiente"}},[t._v("\n\t\t\t\t\t+\t\t\t\n\t\t\t\t")])],1)]),t._v(" "),o("b-table",{attrs:{items:t.tableProducts,fields:t.fields},scopedSlots:t._u([{key:"Remover",fn:function(e){return[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-danger",title:"Remover produto"},on:{click:function(o){return o.stopPropagation(),t.removeProduct(e.item)}}},[o("font-awesome-icon",{attrs:{icon:["fa","trash"]}})],1)]}},{key:"Diminuir",fn:function(e){return[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-primary",title:"Retirar um produto"},on:{click:function(o){return o.stopPropagation(),t.subtractProduct(e.item)}}},[o("font-awesome-icon",{attrs:{icon:["fa","minus"]}})],1)]}},{key:"Mover",fn:function(e){return[o("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-modal",rawName:"v-b-modal.move-product",modifiers:{"move-product":!0}}],staticClass:"mr-1",attrs:{size:"sm",variant:"outline-secondary",title:"Mover um produto"},on:{click:function(o){o.stopPropagation(),t.productMove=e.item}}},[o("font-awesome-icon",{attrs:{icon:["fas","arrow-alt-circle-right"]}})],1)]}}])}),t._v(" "),o("b-modal",{attrs:{id:"add-environment",title:"Adicionar ambiente"},on:{ok:t.addEnvironment}},[o("b-form",{on:{submit:t.addEnvironment}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Nome","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",maxlength:"20",required:"",placeholder:"Informe o nome do ambiente"},model:{value:t.environment.name,callback:function(e){t.$set(t.environment,"name",e)},expression:"environment.name"}})],1)],1)],1),t._v(" "),o("b-modal",{attrs:{id:"add-product",title:"Adicionar produto"},on:{ok:t.addProduct,cancel:t.clearProductForm}},[o("b-form",{on:{submit:t.addProduct}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Nome","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",required:"",maxlength:"20",placeholder:"Informe o nome"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"input-group-1",label:"Descrição","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Informe uma descrição"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"input-group-1",label:"Preço","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Informe o preço"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"input-group-3",label:"Ambiente","label-for":"input-3"}},[o("b-form-select",{attrs:{id:"input-3",options:t.environmentsOptions,required:""},model:{value:t.product.environment,callback:function(e){t.$set(t.product,"environment",e)},expression:"product.environment"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"input-group-1",label:"Quantidade","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",type:"number",required:"",placeholder:"Informe a quantidade"},model:{value:t.product.counter,callback:function(e){t.$set(t.product,"counter",e)},expression:"product.counter"}})],1),t._v(" "),o("b-form-group",{attrs:{id:"input-group-1",label:"Validade","label-for":"input-1"}},[o("b-form-input",{attrs:{id:"input-1",format:"dd/mm/yyyy",type:"date",required:"",placeholder:"Informe a validade"},model:{value:t.product.validity,callback:function(e){t.$set(t.product,"validity",e)},expression:"product.validity"}})],1)],1)],1),t._v(" "),o("b-modal",{attrs:{id:"move-product",title:"Mover produto"},on:{ok:t.moveProduct}},[o("b-form-group",{attrs:{id:"input-group-3",label:"Ambiente","label-for":"input-3"}},[o("b-form-select",{attrs:{id:"input-3",options:t.environmentsOptions,required:""},model:{value:t.environmentMove,callback:function(e){t.environmentMove=e},expression:"environmentMove"}})],1)],1)],1)},[],!1,function(t){this.$style=l.default.locals||l.default},null,null);e.default=component.exports}}]);